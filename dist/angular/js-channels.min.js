angular.module("channels",[]),angular.module("channels").service("asyncBuffers",function(){function t(t,n,e,r,i){for(var u=0;i>u;u+=1)e[u+r]=t[u+n]}var n={},e=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.__proto__=n)},r=function(){function t(t,n){for(var e in n){var r=n[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,n)}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),i=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},u=function(){function n(t){i(this,n);var e="number"==typeof t?Math.max(1,t):1;this._tail=0,this._head=0,this._length=0,this._values=new Array(e)}return r(n,{pop:{value:function(){var t=void 0;return this.length?(t=null!==this._values[this._tail]?this._values[this._tail]:null,this._values[this._tail]=null,this._tail=(this._tail+1)%this._values.length,this._length-=1):t=null,t}},unshift:{value:function(t){this._values[this._head]=t,this._head=(this._head+1)%this._values.length,this._length+=1}},resizingUnshift:{value:function(t){this.length+1===this._values.length&&this.resize(),this.unshift(t)}},resize:{value:function(){var n=new Array(2*this._values.length);this._tail<this._head?(t(this._values,this._tail,n,0,this._head),this._tail=0,this._head=this.length,this._values=n):this._head<this._tail?(t(this._values,0,n,this._values.length-this._tail,this._head),this._tail=0,this._head=this.length,this._values=n):(this._tail=0,this._head=0,this._values=n)}},cleanup:{value:function(t){for(var n=0,e=this.length;e>n;n+=1){var r=this.pop();t(r)&&unshift(r)}}},length:{get:function(){return this._length}}}),n}(),o=function(){function t(n){i(this,t),this._buf=new u(n),this._size=n}return r(t,{remove:{value:function(){return this._buf.pop()}},add:{value:function(t){this._buf.resizingUnshift(t)}},length:{get:function(){return this._buf.length}},full:{get:function(){return this._buf.length===this._size}}}),t}(),a=function(t){function n(){i(this,n),null!=t&&t.apply(this,arguments)}return e(n,t),r(n,{add:{value:function(t){this._buf.length<this._size&&this._buf.unshift(t)}},full:{get:function(){return!1}}}),n}(o),s=function(t){function n(){i(this,n),null!=t&&t.apply(this,arguments)}return e(n,t),r(n,{add:{value:function(t){this._buf.length===this._size&&this.remove(),this._buf.unshift(t)}},full:{get:function(){return!1}}}),n}(o);return n.DroppingBuffer=a,n.SlidingBuffer=s,n.FixedBuffer=o,n.RingBuffer=u,n}),angular.module("channels").service("asyncChannels",["asyncBuffers","asyncDispatch","asyncPromise",function(t,n,e){var r={},i=function(){function t(t,n){for(var e in n){var r=n[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,n)}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),u=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},o=t.FixedBuffer,a=t.RingBuffer,s=n.Dispatch,c=e.Promise,f=function(){function t(n){u(this,t),this.offered=n,this.received=null,this.resolved=!1,this.active=!0,this.callbacks=[]}return i(t,{commit:{value:function(){var t=this;return function(n){if(t.resolved)throw new Error("Tried to resolve transactor twice!");return t.received=n,t.resolved=!0,t.callbacks.forEach(function(t){return t(n)}),t.offered}}},deref:{value:function(t){this.resolved?t(this.received):this.callbacks.push(t)}}}),t}(),h=new s,l=function(t,n){try{return t()}catch(e){return n(e)}},v=function(t){return function(n){return t.add(n)}},p=function(t){return console.error(t),!1},_={},d=function(){function t(n,e,r){u(this,t),this._buffer=n instanceof o?n:new o(n||0),this._takers=new a(32),this._putters=new a(32),this._xformer=e?e(this._buffer):v(this._buffer),this._exHandler=r||p,this._isOpen=!0}return i(t,{abort:{value:function(){for(;this._putters.length;){var t=this._putters.pop();t.active&&!function(){var n=t.commit();h.run(function(){return n(!0)})}()}}},fill:{value:function(t){var n=this,e=void 0===arguments[1]?new f(t):arguments[1];return function(){if(null===t)throw new Error("Cannot put null to a channel.");if(!(e instanceof f))throw new Error("Expecting Transactor to be passed to fill");if(!e.active)return e;if(n.open||e.commit()(!1),!n._buffer.full){e.commit()(!0);for(var r=l(function(){return n._xformer(t)===_},n._exHandler);n._takers.length&&n._buffer.length;){var i=n._takers.pop();i.active&&!function(){var t=n._buffer.remove(),e=i.commit();h.run(function(){return e(t)})}()}return r&&(n.abort(),n._puts.cleanup(function(){return!1})),e}if(n._takers.length){for(var i=n._takers.pop();n._takers.length&&!i.active;)i=n._takers.pop();i&&i.active?!function(){e.commit()(!0);var n=i.commit();h.run(function(){return n(t)})}():n._putters.resizingUnshift(e)}else n._putters.resizingUnshift(e);return e}()}},put:{value:function(t,n){var e=this;return new c(function(r){e.fill(t,n).deref(r)})}},drain:{value:function(){var t=this,n=void 0===arguments[0]?new f:arguments[0];if(!(n instanceof f))throw new Error("Expecting Transactor to be passed to drain");if(!n.active)return n;if(this._buffer.length){for(var e=this._buffer.remove();!this._buffer.full&&this._putters.length;){var r=this.putters.pop();r.active&&!function(){var n=r.commit();h.run(function(){return t._buffer.add(n())})}()}n.commit()(e)}else if(this._putters.length){for(var i=this._putters.pop();this._putters.length&&!i.active;)i=this._putters.pop();i&&i.active?!function(){var t=n.commit(),e=i.commit();h.run(function(){return t(e())})}():this._takers.resizingUnshift(n)}else this._takers.resizingUnshift(n);return n}},take:{value:function(t){var n=this;return new c(function(e){n.drain(t).deref(e)})}},then:{value:function(t,n){return this.take().then(t,n)}},close:{value:function(){for(this._isOpen=!1;this._takers.length;){var t=this._takers.pop();t.active&&t.commit()(null)}}},reduce:{value:function(t,n){function e(t){t===nil?r(u):(u="undefined"==typeof u?t:e(u,t),o.take().then(e))}var r,i,u=n,o=this,a=new c(function(t,n){r=t,i=n});return this.take().then(e),a}},filter:{value:function(n,e,r){var i=this,u=new t(r,function(t,r){!u.open&&e?i.close():null===t&&e?u.close():n(t)&&r(t)});return u}},into:{value:function n(t,e){function n(t){t===nil&&e?out.close():out.put(t).then(function(t){!t&&e?r.close():r.take().then(mapper)})}var r=this;return this.take().then(n),t}},open:{get:function(){return this._isOpen}}}),t}();return d.reduced=_,r.Channel=d,r.Transactor=f,r}]),angular.module("channels").service("asyncDispatch",function(){var t={},n=function(){function t(t,n){for(var e in n){var r=n[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,n)}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),e=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},r="function"==typeof setImmediate?function(t){return setImmediate(t)}:function(t){return setTimeout(t)},i=function(){function t(n){e(this,t),this._asynchronizer=n||r,this._queue=[]}return n(t,{run:{value:function(t){var n=this;this._queue.push(t),this._asynchronizer(function(){for(;n._queue.length;)n._queue.shift()()})}}}),t}();return t.Dispatch=i,t}),angular.module("channels").service("asyncMult",["asyncPromise",function(t){function n(t,e){if(!t.length)return o.resolve();var i,u=function(){i=r(t);var u=i[0],o=i.slice(1);return{v:u.put(e).then(function(){return n(o,e)})}}();return"object"==typeof u?u.v:void 0}var e={},r=function(t){return Array.isArray(t)?t:Array.from(t)},i=function(){function t(t,n){for(var e in n){var r=n[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,n)}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),u=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},o=t.Promise,a=function(){function t(e){u(this,t),this._taps=[],this._free=o.resolve(),e.take().then(function r(t){if(null!==t){var i=void 0,u=new o(function(t){return i=t});this._free=u,n(taps,t).then(function(){i(),e.take().then(r)})}}.bind(this))}return i(t,{tap:{value:function(t,n){var e=this;if(this._taps.some(function(n){return n.ch===t}))throw new Error("Can't add the same channel to a mult twice");return this._free.then(function(){return e._taps.push({close:n,ch:t}),t})}},untap:{value:function(t){var n=this;return this._free.then(function(){return n._taps=n._taps.filter(function(n){return n.ch!==t}),t})}}}),t}();return e.Mult=a,e}]),angular.module("channels").service("asyncUtils",["asyncChannels",function(t){function n(t){var n=[],e=new f;return t.map(function(t){if(Array.isArray(t)){var r;!function(){var i=new l(a,function(){n.forEach(function(t){return t.active=!1})});r=u(t,2);var o=r[0],a=r[1];o.put(a,i).then(function(){e.put([a,o])}),n.push(i)}()}else{var i=new l(!0,function(){n.forEach(function(t){return t.active=!1})});t.take(i).then(function(n){e.put([n,t])}),n.push(i)}}),e}function e(t){var n=new f;return setTimeout(function(){n.close()},t),n}function r(t,n){function e(){t.take().then(function(t){null===t?r.close():r.put(t).then(e)})}var r=new f(n);return e(),r}var i={},u=function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t)){for(var e,r=[],i=t[Symbol.iterator]();!(e=i.next()).done&&(r.push(e.value),!n||r.length!==n););return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},o=function(){function t(t,n){for(var e in n){var r=n[e];r.configurable=!0,r.value&&(r.writable=!0)}Object.defineProperties(t,n)}return function(n,e,r){return e&&t(n.prototype,e),r&&t(n,r),n}}(),a=function v(t,n,e){var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var i=Object.getPrototypeOf(t);return null===i?void 0:v(i,n,e)}if("value"in r&&r.writable)return r.value;var u=r.get;return void 0===u?void 0:u.call(e)},s=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(t.__proto__=n)},c=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},f=t.Channel,h=t.Transactor,l=function(t){function n(t,e){c(this,n),a(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,t),this.commitCb=e}return s(n,t),o(n,{commit:{value:function(){return this.commitCb(),a(Object.getPrototypeOf(n.prototype),"commit",this).call(this)}}}),n}(h);return i.alts=n,i.timeout=e,i.order=r,i}]),angular.module("channels").service("asyncPromise",["$q",function(t){var n={},e=function(n){return t(n)};return e.all=t.all,e.reject=t.reject,e.race=function(n){var e,r,i;return i=t(function(t,n){e=t,r=n}),n.forEach(function(t){return t.then(e,r)}),i},e.resolve=function(n){return t.when(n)},n.Promise=e,n}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImluZGV4LmpzIiwiYnVmZmVycy5qcyIsImNoYW5uZWxzLmpzIiwiZGlzcGF0Y2guanMiLCJtdWx0LmpzIiwidXRpbHMuanMiLCJwcm9taXNlLmpzIl0sIm5hbWVzIjpbImFuZ3VsYXIiLCJtb2R1bGUiLCJzZXJ2aWNlIiwiYWNvcHkiLCJzcmMiLCJzcmNTdGFydCIsImRlc3QiLCJkZXN0U3RhcnQiLCJsZW5ndGgiLCJpIiwiRVM2X19FWFBPUlRTIiwiX2luaGVyaXRzIiwic3ViQ2xhc3MiLCJzdXBlckNsYXNzIiwiVHlwZUVycm9yIiwicHJvdG90eXBlIiwiT2JqZWN0IiwiY3JlYXRlIiwiY29uc3RydWN0b3IiLCJ2YWx1ZSIsImVudW1lcmFibGUiLCJ3cml0YWJsZSIsImNvbmZpZ3VyYWJsZSIsIl9fcHJvdG9fXyIsIl9jcmVhdGVDbGFzcyIsImRlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImtleSIsInByb3AiLCJDb25zdHJ1Y3RvciIsInByb3RvUHJvcHMiLCJzdGF0aWNQcm9wcyIsIl9jbGFzc0NhbGxDaGVjayIsImluc3RhbmNlIiwiUmluZ0J1ZmZlciIsInMiLCJ0aGlzIiwic2l6ZSIsIk1hdGgiLCJtYXgiLCJfdGFpbCIsIl9oZWFkIiwiX2xlbmd0aCIsIl92YWx1ZXMiLCJBcnJheSIsInBvcCIsInJlc3VsdCIsInVuZGVmaW5lZCIsInVuc2hpZnQiLCJ2YWwiLCJyZXNpemluZ1Vuc2hpZnQiLCJyZXNpemUiLCJuZXdBcnJ5IiwiY2xlYW51cCIsImtlZXAiLCJsIiwiaXRlbSIsImdldCIsIkZpeGVkQnVmZmVyIiwibiIsIl9idWYiLCJfc2l6ZSIsInJlbW92ZSIsImFkZCIsInYiLCJmdWxsIiwiRHJvcHBpbmdCdWZmZXIiLCJfRml4ZWRCdWZmZXIiLCJhcHBseSIsImFyZ3VtZW50cyIsIlNsaWRpbmdCdWZmZXIiLCJfRml4ZWRCdWZmZXIyIiwiYXN5bmNCdWZmZXJzIiwiYXN5bmNEaXNwYXRjaCIsImFzeW5jUHJvbWlzZSIsIkRpc3BhdGNoIiwiUHJvbWlzZSIsIlRyYW5zYWN0b3IiLCJvZmZlciIsIm9mZmVyZWQiLCJyZWNlaXZlZCIsInJlc29sdmVkIiwiYWN0aXZlIiwiY2FsbGJhY2tzIiwiY29tbWl0IiwiX3RoaXMiLCJFcnJvciIsImZvckVhY2giLCJjIiwiZGVyZWYiLCJjYWxsYmFjayIsInB1c2giLCJkaXNwYXRjaCIsImF0dGVtcHQiLCJmbiIsImV4aCIsImUiLCJwYXNzdGhyb3VnaCIsImJ1ZmZlciIsImRlZmF1bHRFeEhhbmRsZXIiLCJjb25zb2xlIiwiZXJyb3IiLCJyZWR1Y2VkIiwiQ2hhbm5lbCIsInNpemVPckJ1ZiIsInhmb3JtIiwiZXhjZXB0aW9uSGFuZGxlciIsIl9idWZmZXIiLCJfdGFrZXJzIiwiX3B1dHRlcnMiLCJfeGZvcm1lciIsIl9leEhhbmRsZXIiLCJfaXNPcGVuIiwiYWJvcnQiLCJwdXR0ZXIiLCJwdXR0ZXJDYiIsInJ1biIsImZpbGwiLCJ0eCIsIm9wZW4iLCJkb25lIiwidGFrZXJUeCIsInRha2VyQ2IiLCJfcHV0cyIsInB1dCIsInRyYW5zYWN0b3IiLCJyZXNvbHZlIiwiZHJhaW4iLCJidWZWYWwiLCJwdXR0ZXJzIiwicHV0VHgiLCJwdXR0ZXJUeCIsInR4Q2IiLCJ0YWtlIiwidGhlbiIsImVyciIsImNsb3NlIiwidGFrZXIiLCJyZWR1Y2UiLCJpbml0aWFsVmFsdWUiLCJyZWR1Y2VyIiwibmlsIiwiZG9SZXNvbHZlIiwiYWNjdW11bGF0aW9uIiwic2VsZiIsImRvUmVqZWN0Iiwib3V0IiwicmVqZWN0IiwiZmlsdGVyIiwic2hvdWxkQ2xvc2UiLCJidWZPck4iLCJuZXh0IiwiaW50byIsIm90aGVyQ2hhbiIsIm1hcHBlciIsImRlZmF1bHRBc3luY2hyb25pemVyIiwic2V0SW1tZWRpYXRlIiwic2V0VGltZW91dCIsImFzeW5jaHJvbml6ZXIiLCJfYXN5bmNocm9uaXplciIsIl9xdWV1ZSIsInNoaWZ0IiwiZGlzdHJpYnV0ZSIsInRhcHMiLCJfdGFwcyIsIl9yZXQiLCJfdG9BcnJheSIsInRhcCIsInJlc3QiLCJzbGljZSIsImFyciIsImlzQXJyYXkiLCJmcm9tIiwiTXVsdCIsImNoIiwiX2ZyZWUiLCJkcmFpbkxvb3AiLCJkb0ZyZWUiLCJmcmVlIiwiciIsImJpbmQiLCJzb21lIiwidCIsInVudGFwIiwiYXN5bmNDaGFubmVscyIsImFsdHMiLCJyYWNlIiwidHJhbnNhY3RvcnMiLCJvdXRDaCIsIm1hcCIsImNtZCIsIl9jbWQiLCJBbHRzVHJhbnNhY3RvciIsImgiLCJfc2xpY2VkVG9BcnJheSIsInRpbWVvdXQiLCJtcyIsIm9yZGVyIiwiaW5jaCIsIm91dGNoIiwiU3ltYm9sIiwiaXRlcmF0b3IiLCJfc3RlcCIsIl9hcnIiLCJfaXRlcmF0b3IiLCJfZ2V0Iiwib2JqZWN0IiwicHJvcGVydHkiLCJyZWNlaXZlciIsImRlc2MiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJwYXJlbnQiLCJnZXRQcm90b3R5cGVPZiIsImdldHRlciIsImNhbGwiLCJfVHJhbnNhY3RvciIsImNvbW1pdENiIiwiJHEiLCJhbGwiLCJwcm9tcyIsImRvRnVsZmlsbCIsInByb20iLCJmdWxmaWxsIiwicCIsIndoZW4iXSwibWFwcGluZ3MiOiJBQUFBQSxRQUFRQyxPQUFPLGVDQWZELFFBQVFDLE9BQU8sWUFBWUMsUUFBUSxlQUFnQixXQUluRCxRQUFTQyxHQUFNQyxFQUFLQyxFQUFVQyxFQUFNQyxFQUFXQyxHQUM3QyxJQUFJLEdBQUlDLEdBQUksRUFBT0QsRUFBSkMsRUFBWUEsR0FBSyxFQUM5QkgsRUFBS0csRUFBSUYsR0FBYUgsRUFBSUssRUFBSUosR0FMaEMsR0FBSUssTUFFQUMsRUFBWSxTQUFVQyxFQUFVQyxHQUFjLEdBQTBCLGtCQUFmQSxJQUE0QyxPQUFmQSxFQUF1QixLQUFNLElBQUlDLFdBQVUsaUVBQW9FRCxHQUFlRCxHQUFTRyxVQUFZQyxPQUFPQyxPQUFPSixHQUFjQSxFQUFXRSxXQUFhRyxhQUFlQyxNQUFPUCxFQUFVUSxZQUFZLEVBQU9DLFVBQVUsRUFBTUMsY0FBYyxLQUFlVCxJQUFZRCxF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LFFBRFB2QixHQUNRbEgsRUFBTzBJLEdBY2Z4TCxFQUFnQkksS0FmaEI0SixHQUVGYSxFQUFBOUwsT0FBQXFNLGVBRkVwQixFQUFjbEwsV0FBQSxjQUFBc0IsTUFBQWtMLEtBQUFsTCxLQUVWMEMsR0FDTjFDLEtBQUtvTCxTQUFXQSxFQTZCaEIsTUFYQTlNLEdBckJFc0wsRUFBY3VCLEdBdUJoQmhNLEVBdkJFeUssR0FLSjVHLFFBb0JNbEUsTUFwQkEsV0FFSixNQURBa0IsTUFBS29MLFdBQ0xYLEVBQUE5TCxPQUFBcU0sZUFQRXBCLEVBQWNsTCxXQUFBLFNBQUFzQixNQUFBa0wsS0FBQWxMLFVBQWQ0SixHQUF1Qm5ILEVBbUgzQixPQUhBcEUsR0FBYWdMLEtBQU9BLEVBQ3BCaEwsRUFBYTBMLFFBQVVBLEVBQ3ZCMUwsRUFBYTRMLE1BQVFBLEVBQ2Q1TCxLQ3RIVFYsUUFBUUMsT0FBTyxZQUFZQyxRQUFRLGdCQUFBLEtBQWdCLFNBQVV3TixHQUMzRCxHQUFJaE4sTUFFRm1FLEVBQVUsU0FBQXVHLEdBQ1osTUFBT3NDLEdBQUd0QyxHQTBCVixPQXZCRnZHLEdBQVE4SSxJQUFNRCxFQUFHQyxJQUNqQjlJLEVBQVF1RSxPQUFTc0UsRUFBR3RFLE9BRXBCdkUsRUFBUThHLEtBQU8sU0FBQWlDLEdBQ2IsR0FBSUMsR0FBVzNFLEVBQVU0RSxDQVN6QixPQVBBQSxHQUFPSixFQUFHLFNBQUNLLEVBQVMzRSxHQUNsQnlFLEVBQVlFLEVBQ1o3RSxFQUFXRSxJQUdid0UsRUFBTXBJLFFBQVEsU0FBQXdJLEdBQ1YsTUFEZUEsR0FBRXpGLEtBQUtzRixFQUFXM0UsS0FFOUI0RSxHQUdUakosRUFBUWtELFFBQVUsU0FBQTdFLEdBQ2hCLE1BQU93SyxHQUFHTyxLQUFLL0ssSUFLZnhDLEVBQWFtRSxRQUFVQSxFQUNoQm5FIiwiZmlsZSI6ImpzLWNoYW5uZWxzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImFuZ3VsYXIubW9kdWxlKCdjaGFubmVscycsIFtdKTsiLCJcbi8vXG4vLyBUT0RPOiB0aGlzIGlzbid0IGlkaW9tYXRpY2FsbHkgamF2YXNjcmlwdCAoY291bGQgcHJvYmFibHkgdXNlIHNsaWNlL3NwbGljZSB0byBnb29kIGVmZmVjdClcbi8vXG5mdW5jdGlvbiBhY29weShzcmMsIHNyY1N0YXJ0LCBkZXN0LCBkZXN0U3RhcnQsIGxlbmd0aCkge1xuICBmb3IobGV0IGkgPSAwOyBpIDwgbGVuZ3RoOyBpICs9IDEpIHtcbiAgICBkZXN0W2kgKyBkZXN0U3RhcnRdID0gc3JjW2kgKyBzcmNTdGFydF07XG4gIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuY2xhc3MgUmluZ0J1ZmZlciB7XG4gIGNvbnN0cnVjdG9yKHMpIHtcbiAgICBsZXQgc2l6ZSA9ICh0eXBlb2YgcyA9PT0gJ251bWJlcicpID8gTWF0aC5tYXgoMSwgcykgOiAxO1xuICAgIHRoaXMuX3RhaWwgICA9IDA7XG4gICAgdGhpcy5faGVhZCAgID0gMDtcbiAgICB0aGlzLl9sZW5ndGggPSAwO1xuICAgIHRoaXMuX3ZhbHVlcyA9IG5ldyBBcnJheShzaXplKTtcbiAgfVxuXG4gIHBvcCgpIHtcbiAgICBsZXQgcmVzdWx0O1xuICAgIGlmKHRoaXMubGVuZ3RoKSB7XG4gICAgICAvLyBHZXQgdGhlIGl0ZW0gb3V0IG9mIHRoZSBzZXQgb2YgdmFsdWVzXG4gICAgICByZXN1bHQgPSAodGhpcy5fdmFsdWVzW3RoaXMuX3RhaWxdICE9PSBudWxsKSA/IHRoaXMuX3ZhbHVlc1t0aGlzLl90YWlsXSA6IG51bGw7XG5cbiAgICAgIC8vIFJlbW92ZSB0aGUgaXRlbSBmcm9tIHRoZSBzZXQgb2YgdmFsdWVzLCB1cGRhdGUgaW5kaWNpZXNcbiAgICAgIHRoaXMuX3ZhbHVlc1t0aGlzLl90YWlsXSA9IG51bGw7XG4gICAgICB0aGlzLl90YWlsID0gKHRoaXMuX3RhaWwgKyAxKSAlIHRoaXMuX3ZhbHVlcy5sZW5ndGg7XG4gICAgICB0aGlzLl9sZW5ndGggLT0gMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzdWx0ID0gbnVsbDtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIHVuc2hpZnQodmFsKSB7XG4gICAgdGhpcy5fdmFsdWVzW3RoaXMuX2hlYWRdID0gdmFsO1xuICAgIHRoaXMuX2hlYWQgPSAodGhpcy5faGVhZCArIDEpICUgdGhpcy5fdmFsdWVzLmxlbmd0aDtcbiAgICB0aGlzLl9sZW5ndGggKz0gMTtcbiAgfVxuXG4gIHJlc2l6aW5nVW5zaGlmdCh2YWwpIHtcbiAgICBpZih0aGlzLmxlbmd0aCArIDEgPT09IHRoaXMuX3ZhbHVlcy5sZW5ndGgpIHtcbiAgICAgIHRoaXMucmVzaXplKCk7XG4gICAgfVxuICAgIHRoaXMudW5zaGlmdCh2YWwpO1xuICB9XG5cbiAgcmVzaXplKCkge1xuICAgIGxldCBuZXdBcnJ5ID0gbmV3IEFycmF5KHRoaXMuX3ZhbHVlcy5sZW5ndGggKiAyKTtcblxuICAgIGlmKHRoaXMuX3RhaWwgPCB0aGlzLl9oZWFkKSB7XG4gICAgICBhY29weSh0aGlzLl92YWx1ZXMsIHRoaXMuX3RhaWwsIG5ld0FycnksIDAsIHRoaXMuX2hlYWQpO1xuXG4gICAgICB0aGlzLl90YWlsID0gMDtcbiAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLmxlbmd0aDtcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IG5ld0Fycnk7XG5cbiAgICB9IGVsc2UgaWYodGhpcy5faGVhZCA8IHRoaXMuX3RhaWwpIHtcbiAgICAgIGFjb3B5KHRoaXMuX3ZhbHVlcywgMCwgbmV3QXJyeSwgdGhpcy5fdmFsdWVzLmxlbmd0aCAtIHRoaXMuX3RhaWwsIHRoaXMuX2hlYWQpO1xuXG4gICAgICB0aGlzLl90YWlsID0gMDtcbiAgICAgIHRoaXMuX2hlYWQgPSB0aGlzLmxlbmd0aDtcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IG5ld0Fycnk7XG5cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdGFpbCA9IDA7XG4gICAgICB0aGlzLl9oZWFkID0gMDtcbiAgICAgIHRoaXMuX3ZhbHVlcyA9IG5ld0Fycnk7XG4gICAgfVxuICB9XG5cbiAgY2xlYW51cChrZWVwKSB7XG4gICAgZm9yKGxldCBpID0gMCwgbCA9IHRoaXMubGVuZ3RoOyBpIDwgbDsgaSArPSAxKSB7XG4gICAgICBsZXQgaXRlbSA9IHRoaXMucG9wKCk7XG5cbiAgICAgIGlmKGtlZXAoaXRlbSkpIHtcbiAgICAgICAgdW5zaGlmdChpdGVtKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBnZXQgbGVuZ3RoKCkge1xuICAgIHJldHVybiB0aGlzLl9sZW5ndGg7XG4gIH1cbn1cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuY2xhc3MgRml4ZWRCdWZmZXIge1xuICBjb25zdHJ1Y3RvcihuKSB7XG4gICAgdGhpcy5fYnVmID0gbmV3IFJpbmdCdWZmZXIobik7XG4gICAgdGhpcy5fc2l6ZSA9IG47XG4gIH1cblxuICByZW1vdmUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2J1Zi5wb3AoKTtcbiAgfVxuXG4gIGFkZCh2KSB7XG4gICAgdGhpcy5fYnVmLnJlc2l6aW5nVW5zaGlmdCh2KTtcbiAgfVxuXG4gIGdldCBsZW5ndGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2J1Zi5sZW5ndGg7XG4gIH1cblxuICBnZXQgZnVsbCgpIHtcbiAgICByZXR1cm4gdGhpcy5fYnVmLmxlbmd0aCA9PT0gdGhpcy5fc2l6ZTtcbiAgfVxufVxuXG4vLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG5jbGFzcyBEcm9wcGluZ0J1ZmZlciBleHRlbmRzIEZpeGVkQnVmZmVyIHtcbiAgYWRkKHYpIHtcbiAgICBpZih0aGlzLl9idWYubGVuZ3RoIDwgdGhpcy5fc2l6ZSkge1xuICAgICAgdGhpcy5fYnVmLnVuc2hpZnQodik7XG4gICAgfVxuICB9XG5cbiAgZ2V0IGZ1bGwoKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9XG59XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmNsYXNzIFNsaWRpbmdCdWZmZXIgZXh0ZW5kcyBGaXhlZEJ1ZmZlciB7XG4gIGFkZCh2KSB7XG4gICAgaWYodGhpcy5fYnVmLmxlbmd0aCA9PT0gdGhpcy5fc2l6ZSkge1xuICAgICAgdGhpcy5yZW1vdmUoKTtcbiAgICB9XG4gICAgdGhpcy5fYnVmLnVuc2hpZnQodik7XG4gIH1cblxuICBnZXQgZnVsbCgpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuZXhwb3J0IHsgRHJvcHBpbmdCdWZmZXIsIFNsaWRpbmdCdWZmZXIsIEZpeGVkQnVmZmVyLCBSaW5nQnVmZmVyIH07IiwiXG5pbXBvcnQgeyBGaXhlZEJ1ZmZlciwgUmluZ0J1ZmZlciB9IGZyb20gXCIuL2J1ZmZlcnMuanNcIjtcbmltcG9ydCB7IERpc3BhdGNoIH0gZnJvbSBcIi4vZGlzcGF0Y2guanNcIjtcbmltcG9ydCB7IFByb21pc2UgfSBmcm9tIFwiLi9wcm9taXNlLmpzXCI7XG5cbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXG5cbmNsYXNzIFRyYW5zYWN0b3Ige1xuICBjb25zdHJ1Y3RvcihvZmZlcikge1xuICAgIHRoaXMub2ZmZXJlZCA9IG9mZmVyO1xuICAgIHRoaXMucmVjZWl2ZWQgPSBudWxsO1xuICAgIHRoaXMucmVzb2x2ZWQgPSBmYWxzZTtcbiAgICB0aGlzLmFjdGl2ZSA9IHRydWU7XG4gICAgdGhpcy5jYWxsYmFja3MgPSBbXTtcbiAgfVxuXG4gIGNvbW1pdCgpIHtcbiAgICByZXR1cm4gKHZhbCkgPT4ge1xuICAgICAgaWYodGhpcy5yZXNvbHZlZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUcmllZCB0byByZXNvbHZlIHRyYW5zYWN0b3IgdHdpY2UhXCIpO1xuICAgICAgfVxuICAgICAgdGhpcy5yZWNlaXZlZCA9IHZhbDtcbiAgICAgIHRoaXMucmVzb2x2ZWQgPSB0cnVlO1xuICAgICAgdGhpcy5jYWxsYmFja3MuZm9yRWFjaChjID0+IGModmFsKSk7XG5cbiAgICAgIHJldHVybiB0aGlzLm9mZmVyZWQ7XG4gICAgfVxuICB9XG5cbiAgZGVyZWYoY2FsbGJhY2spIHtcbiAgICBpZih0aGlzLnJlc29sdmVkKSB7XG4gICAgICBjYWxsYmFjayh0aGlzLnJlY2VpdmVkKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5jYWxsYmFja3MucHVzaChjYWxsYmFjayk7XG4gICAgfVxuICB9XG59XG5cblxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxubGV0IGRpc3BhdGNoID0gbmV3IERpc3BhdGNoKCk7XG5cbmxldCBhdHRlbXB0ID0gZnVuY3Rpb24oZm4sIGV4aCkgeyB0cnkgeyByZXR1cm4gZm4oKSB9IGNhdGNoKGUpIHsgcmV0dXJuIGV4aChlKTsgfSB9XG5sZXQgcGFzc3Rocm91Z2ggPSBmdW5jdGlvbihidWZmZXIpIHsgcmV0dXJuICh2KSA9PiBidWZmZXIuYWRkKHYpOyB9O1xubGV0IGRlZmF1bHRFeEhhbmRsZXIgPSBmdW5jdGlvbihlKSB7IGNvbnNvbGUuZXJyb3IoZSk7IHJldHVybiBmYWxzZTsgfVxuXG5sZXQgcmVkdWNlZCA9IHt9O1xuXG5jbGFzcyBDaGFubmVsIHtcbiAgY29uc3RydWN0b3Ioc2l6ZU9yQnVmLCB4Zm9ybSwgZXhjZXB0aW9uSGFuZGxlcikge1xuICAgIHRoaXMuX2J1ZmZlciAgICA9IChzaXplT3JCdWYgaW5zdGFuY2VvZiBGaXhlZEJ1ZmZlcikgPyBzaXplT3JCdWYgOiBuZXcgRml4ZWRCdWZmZXIoc2l6ZU9yQnVmIHx8IDApO1xuICAgIHRoaXMuX3Rha2VycyAgICA9IG5ldyBSaW5nQnVmZmVyKDMyKTtcbiAgICB0aGlzLl9wdXR0ZXJzICAgPSBuZXcgUmluZ0J1ZmZlcigzMik7XG4gICAgdGhpcy5feGZvcm1lciAgID0geGZvcm0gPyB4Zm9ybSh0aGlzLl9idWZmZXIpIDogcGFzc3Rocm91Z2godGhpcy5fYnVmZmVyKTtcbiAgICB0aGlzLl9leEhhbmRsZXIgPSBleGNlcHRpb25IYW5kbGVyIHx8IGRlZmF1bHRFeEhhbmRsZXI7XG5cbiAgICB0aGlzLl9pc09wZW4gPSB0cnVlO1xuICB9XG5cbiAgYWJvcnQoKSB7XG4gICAgd2hpbGUodGhpcy5fcHV0dGVycy5sZW5ndGgpIHtcbiAgICAgIGxldCBwdXR0ZXIgPSB0aGlzLl9wdXR0ZXJzLnBvcCgpO1xuXG4gICAgICBpZihwdXR0ZXIuYWN0aXZlKSB7XG4gICAgICAgIGxldCBwdXR0ZXJDYiA9IHB1dHRlci5jb21taXQoKTtcbiAgICAgICAgZGlzcGF0Y2gucnVuKCgpID0+IHB1dHRlckNiKHRydWUpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmaWxsKHZhbCwgdHggPSBuZXcgVHJhbnNhY3Rvcih2YWwpKSB7XG4gICAgaWYodmFsID09PSBudWxsKSB7IHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBwdXQgbnVsbCB0byBhIGNoYW5uZWwuXCIpOyB9XG4gICAgaWYoISh0eCBpbnN0YW5jZW9mIFRyYW5zYWN0b3IpKSB7IHRocm93IG5ldyBFcnJvcihcIkV4cGVjdGluZyBUcmFuc2FjdG9yIHRvIGJlIHBhc3NlZCB0byBmaWxsXCIpOyB9XG4gICAgaWYoIXR4LmFjdGl2ZSkgeyByZXR1cm4gdHg7IH1cblxuICAgIGlmKCF0aGlzLm9wZW4pIHtcbiAgICAgIC8vIEVpdGhlciBzb21lYm9keSBoYXMgcmVzb2x2ZWQgdGhlIGhhbmRsZXIgYWxyZWFkeSAodGhhdCB3YXMgZmFzdCkgb3IgdGhlIGNoYW5uZWwgaXMgY2xvc2VkLlxuICAgICAgLy8gY29yZS5hc3luYyByZXR1cm5zIGEgYm9vbGVhbiBvZiB3aGV0aGVyIG9yIG5vdCBzb21ldGhpbmcgKmNvdWxkKiBnZXQgcHV0IHRvIHRoZSBjaGFubmVsXG4gICAgICAvLyB3ZSdsbCBkbyB0aGUgc2FtZSAjY2FyZ29jdWx0XG4gICAgICB0eC5jb21taXQoKShmYWxzZSk7XG4gICAgfVxuXG4gICAgaWYoIXRoaXMuX2J1ZmZlci5mdWxsKSB7XG4gICAgICAvLyBUaGUgY2hhbm5lbCBoYXMgc29tZSBmcmVlIHNwYWNlLiBTdGljayBpdCBpbiB0aGUgYnVmZmVyIGFuZCB0aGVuIGRyYWluIGFueSB3YWl0aW5nIHRha2VzLlxuXG4gICAgICB0eC5jb21taXQoKSh0cnVlKTtcblxuICAgICAgbGV0IGRvbmUgPSBhdHRlbXB0KCgpID0+IHRoaXMuX3hmb3JtZXIodmFsKSA9PT0gcmVkdWNlZCwgdGhpcy5fZXhIYW5kbGVyKTtcblxuICAgICAgd2hpbGUodGhpcy5fdGFrZXJzLmxlbmd0aCAmJiB0aGlzLl9idWZmZXIubGVuZ3RoKSB7XG4gICAgICAgIGxldCB0YWtlclR4ID0gdGhpcy5fdGFrZXJzLnBvcCgpO1xuXG4gICAgICAgIGlmKHRha2VyVHguYWN0aXZlKSB7XG4gICAgICAgICAgbGV0IHZhbCA9IHRoaXMuX2J1ZmZlci5yZW1vdmUoKTtcbiAgICAgICAgICBsZXQgdGFrZXJDYiA9IHRha2VyVHguY29tbWl0KCk7XG5cbiAgICAgICAgICBkaXNwYXRjaC5ydW4oKCkgPT4gdGFrZXJDYih2YWwpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBpZihkb25lKSB7XG4gICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgdGhpcy5fcHV0cy5jbGVhbnVwKCgpID0+IGZhbHNlKTtcbiAgICAgIH1cblxuICAgICAgcmV0dXJuIHR4O1xuICAgIH0gZWxzZSBpZih0aGlzLl90YWtlcnMubGVuZ3RoKSB7XG4gICAgICAvLyBUaGUgYnVmZmVyIGlzIGZ1bGwgYnV0IHRoZXJlIGFyZSB3YWl0aW5nIHRha2VycyAoZS5nLiB0aGUgYnVmZmVyIGlzIHNpemUgemVybylcblxuICAgICAgbGV0IHRha2VyVHggPSB0aGlzLl90YWtlcnMucG9wKCk7XG5cbiAgICAgIHdoaWxlKHRoaXMuX3Rha2Vycy5sZW5ndGggJiYgIXRha2VyVHguYWN0aXZlKSB7XG4gICAgICAgIHRha2VyVHggPSB0aGlzLl90YWtlcnMucG9wKCk7XG4gICAgICB9XG5cbiAgICAgIGlmKHRha2VyVHggJiYgdGFrZXJUeC5hY3RpdmUpIHtcbiAgICAgICAgdHguY29tbWl0KCkodHJ1ZSk7XG4gICAgICAgIGxldCB0YWtlckNiID0gdGFrZXJUeC5jb21taXQoKTtcblxuICAgICAgICBkaXNwYXRjaC5ydW4oKCkgPT4gdGFrZXJDYih2YWwpKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuX3B1dHRlcnMucmVzaXppbmdVbnNoaWZ0KHR4KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fcHV0dGVycy5yZXNpemluZ1Vuc2hpZnQodHgpO1xuICAgIH1cblxuICAgIHJldHVybiB0eDtcbiAgfVxuXG4gIHB1dCh2YWwsIHRyYW5zYWN0b3IpIHtcbiAgICByZXR1cm4gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICB0aGlzLmZpbGwodmFsLCB0cmFuc2FjdG9yKS5kZXJlZihyZXNvbHZlKTtcbiAgICB9KTtcbiAgfVxuXG4gIGRyYWluKHR4ID0gbmV3IFRyYW5zYWN0b3IoKSkge1xuICAgIGlmKCEodHggaW5zdGFuY2VvZiBUcmFuc2FjdG9yKSkgeyB0aHJvdyBuZXcgRXJyb3IoXCJFeHBlY3RpbmcgVHJhbnNhY3RvciB0byBiZSBwYXNzZWQgdG8gZHJhaW5cIik7IH1cbiAgICBpZighdHguYWN0aXZlKSB7IHJldHVybiB0eDsgfVxuXG4gICAgaWYodGhpcy5fYnVmZmVyLmxlbmd0aCkge1xuICAgICAgbGV0IGJ1ZlZhbCA9IHRoaXMuX2J1ZmZlci5yZW1vdmUoKTtcblxuICAgICAgd2hpbGUoIXRoaXMuX2J1ZmZlci5mdWxsICYmIHRoaXMuX3B1dHRlcnMubGVuZ3RoKSB7XG4gICAgICAgIGxldCBwdXR0ZXIgPSB0aGlzLnB1dHRlcnMucG9wKCk7XG5cbiAgICAgICAgaWYocHV0dGVyLmFjdGl2ZSkge1xuICAgICAgICAgIGxldCBwdXRUeCA9IHB1dHRlci5jb21taXQoKTtcblxuICAgICAgICAgIGRpc3BhdGNoLnJ1bigoKSA9PiB0aGlzLl9idWZmZXIuYWRkKHB1dFR4KCkpKTtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICB0eC5jb21taXQoKShidWZWYWwpO1xuICAgIH0gZWxzZSBpZih0aGlzLl9wdXR0ZXJzLmxlbmd0aCkge1xuICAgICAgbGV0IHB1dHRlclR4ID0gdGhpcy5fcHV0dGVycy5wb3AoKTtcblxuICAgICAgd2hpbGUodGhpcy5fcHV0dGVycy5sZW5ndGggJiYgIXB1dHRlclR4LmFjdGl2ZSkge1xuICAgICAgICBwdXR0ZXJUeCA9IHRoaXMuX3B1dHRlcnMucG9wKCk7XG4gICAgICB9XG5cbiAgICAgIGlmKHB1dHRlclR4ICYmIHB1dHRlclR4LmFjdGl2ZSkge1xuICAgICAgICBsZXQgdHhDYiA9IHR4LmNvbW1pdCgpO1xuICAgICAgICBsZXQgcHV0dGVyQ2IgPSBwdXR0ZXJUeC5jb21taXQoKTtcblxuICAgICAgICBkaXNwYXRjaC5ydW4oKCkgPT4gdHhDYihwdXR0ZXJDYigpKSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLl90YWtlcnMucmVzaXppbmdVbnNoaWZ0KHR4KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fdGFrZXJzLnJlc2l6aW5nVW5zaGlmdCh0eCk7XG4gICAgfVxuXG4gICAgcmV0dXJuIHR4O1xuICB9XG5cbiAgdGFrZSh0cmFuc2FjdG9yKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKHJlc29sdmUgPT4ge1xuICAgICAgdGhpcy5kcmFpbih0cmFuc2FjdG9yKS5kZXJlZihyZXNvbHZlKTtcbiAgICB9KTtcbiAgfVxuXG4gIHRoZW4oZm4sIGVycikge1xuICAgIHJldHVybiB0aGlzLnRha2UoKS50aGVuKGZuLCBlcnIpO1xuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5faXNPcGVuID0gZmFsc2U7XG5cbiAgICB3aGlsZSAodGhpcy5fdGFrZXJzLmxlbmd0aCkge1xuICAgICAgbGV0IHRha2VyID0gdGhpcy5fdGFrZXJzLnBvcCgpO1xuXG4gICAgICBpZih0YWtlci5hY3RpdmUpIHtcbiAgICAgICAgdGFrZXIuY29tbWl0KCkobnVsbCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgcmVkdWNlKGZuLCBpbml0aWFsVmFsdWUpIHtcbiAgICB2YXIgYWNjdW11bGF0aW9uID0gaW5pdGlhbFZhbHVlLFxuICAgICAgICBkb1Jlc29sdmUsIGRvUmVqZWN0LFxuICAgICAgICBzZWxmID0gdGhpcyxcbiAgICAgICAgb3V0ID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgIGRvUmVzb2x2ZSA9IHJlc29sdmU7XG4gICAgICAgICAgZG9SZWplY3QgPSByZWplY3RcbiAgICAgICAgfSk7XG5cbiAgICBmdW5jdGlvbiByZWR1Y2VyKHZhbCkge1xuICAgICAgaWYodmFsID09PSBuaWwpIHtcbiAgICAgICAgZG9SZXNvbHZlKGFjY3VtdWxhdGlvbik7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhY2N1bXVsYXRpb24gPSAodHlwZW9mIGFjY3VtdWxhdGlvbiA9PT0gJ3VuZGVmaW5lZCcpID8gdmFsIDogcmVkdWNlcihhY2N1bXVsYXRpb24sIHZhbCk7XG4gICAgICAgIHNlbGYudGFrZSgpLnRoZW4ocmVkdWNlcik7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy50YWtlKCkudGhlbihyZWR1Y2VyKTtcblxuICAgIHJldHVybiBvdXQ7XG4gIH1cblxuICBmaWx0ZXIoZm4sIHNob3VsZENsb3NlLCBidWZPck4pIHtcbiAgICB2YXIgb3V0ID0gbmV3IENoYW5uZWwoYnVmT3JOLCAodmFsLCBuZXh0KSA9PiB7XG4gICAgICBpZighb3V0Lm9wZW4gJiYgc2hvdWxkQ2xvc2UpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpXG4gICAgICB9IGVsc2UgaWYgKHZhbCA9PT0gbnVsbCAmJiBzaG91bGRDbG9zZSkge1xuICAgICAgICBvdXQuY2xvc2UoKTtcbiAgICAgIH0gZWxzZSBpZiAoZm4odmFsKSkge1xuICAgICAgICBuZXh0KHZhbCk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICByZXR1cm4gb3V0O1xuICB9XG5cbiAgaW50byhvdGhlckNoYW4sIHNob3VsZENsb3NlKSB7XG4gICAgdmFyIHNlbGYgPSB0aGlzO1xuXG4gICAgZnVuY3Rpb24gaW50byh2YWwpIHtcbiAgICAgIGlmKHZhbCA9PT0gbmlsICYmIHNob3VsZENsb3NlKSB7XG4gICAgICAgIG91dC5jbG9zZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0LnB1dCh2YWwpLnRoZW4ob3BlbiA9PiB7XG4gICAgICAgICAgaWYoIW9wZW4gJiYgc2hvdWxkQ2xvc2UpIHtcbiAgICAgICAgICAgIHNlbGYuY2xvc2UoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2VsZi50YWtlKCkudGhlbihtYXBwZXIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuXG4gICAgdGhpcy50YWtlKCkudGhlbihpbnRvKTtcblxuICAgIHJldHVybiBvdGhlckNoYW47XG4gIH1cblxuICBnZXQgb3BlbigpIHtcbiAgICByZXR1cm4gdGhpcy5faXNPcGVuO1xuICB9XG59XG5cbkNoYW5uZWwucmVkdWNlZCA9IHJlZHVjZWQ7XG5cbmV4cG9ydCB7IENoYW5uZWwsIFRyYW5zYWN0b3IgfTsiLCJsZXQgZGVmYXVsdEFzeW5jaHJvbml6ZXIgPSAodHlwZW9mIHNldEltbWVkaWF0ZSA9PT0gJ2Z1bmN0aW9uJykgPyBmdW5jdGlvbihmbikge1xuICByZXR1cm4gc2V0SW1tZWRpYXRlKGZuKTtcbn0gOiBmdW5jdGlvbihmbikge1xuICByZXR1cm4gc2V0VGltZW91dChmbik7XG59O1xuXG5jbGFzcyBEaXNwYXRjaCB7XG4gIGNvbnN0cnVjdG9yKGFzeW5jaHJvbml6ZXIpIHtcbiAgICB0aGlzLl9hc3luY2hyb25pemVyID0gYXN5bmNocm9uaXplciB8fCBkZWZhdWx0QXN5bmNocm9uaXplcjtcbiAgICB0aGlzLl9xdWV1ZSA9IFtdO1xuICB9XG5cbiAgcnVuKGZuKSB7XG4gICAgdGhpcy5fcXVldWUucHVzaChmbik7XG5cbiAgICB0aGlzLl9hc3luY2hyb25pemVyKCgpID0+IHtcbiAgICAgIHdoaWxlKHRoaXMuX3F1ZXVlLmxlbmd0aCkge1xuICAgICAgICB0aGlzLl9xdWV1ZS5zaGlmdCgpKCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cblxuXG5leHBvcnQgeyBEaXNwYXRjaCB9OyIsImltcG9ydCB7IFByb21pc2UgfSBmcm9tIFwiLi9wcm9taXNlLmpzXCI7XG5cbmZ1bmN0aW9uIGRpc3RyaWJ1dGUodGFwcywgdmFsKSB7XG4gIGlmKCF0YXBzLmxlbmd0aCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgfSBlbHNlIHtcbiAgICBsZXQgWyB0YXAsIC4uLnJlc3QgXSA9IHRhcHM7XG5cbiAgICByZXR1cm4gdGFwLnB1dCh2YWwpLnRoZW4oKCkgPT4ge1xuICAgICAgcmV0dXJuIGRpc3RyaWJ1dGUocmVzdCwgdmFsKTtcbiAgICB9KTtcbiAgfVxufVxuXG5jbGFzcyBNdWx0IHtcblxuICBjb25zdHJ1Y3RvcihjaCkge1xuICAgIHRoaXMuX3RhcHMgPSBbXTtcbiAgICB0aGlzLl9mcmVlID0gUHJvbWlzZS5yZXNvbHZlKCk7XG5cbiAgICBjaC50YWtlKCkudGhlbihmdW5jdGlvbiBkcmFpbkxvb3Aodikge1xuICAgICAgaWYodiA9PT0gbnVsbCkge1xuICAgICAgICAvLyBjbGVhbnVwXG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgLy8gTG9ja3MgdGhlIGxpc3Qgb2YgdGFwcyB1bnRpbCB0aGUgZGlzdHJpYnV0aW9uIGlzIGNvbXBsZXRlXG4gICAgICBsZXQgZG9GcmVlLCBmcmVlID0gbmV3IFByb21pc2UociA9PiBkb0ZyZWUgPSByKTtcblxuICAgICAgdGhpcy5fZnJlZSA9IGZyZWU7XG5cbiAgICAgIGRpc3RyaWJ1dGUodGFwcywgdikudGhlbigoKSA9PiB7XG4gICAgICAgIGRvRnJlZSgpO1xuICAgICAgICBjaC50YWtlKCkudGhlbihkcmFpbkxvb3ApO1xuICAgICAgfSk7XG4gICAgfS5iaW5kKHRoaXMpKTtcbiAgfVxuXG4gIHRhcChjaCwgY2xvc2UpIHtcbiAgICBpZih0aGlzLl90YXBzLnNvbWUodCA9PiB0LmNoID09PSBjaCkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbid0IGFkZCB0aGUgc2FtZSBjaGFubmVsIHRvIGEgbXVsdCB0d2ljZVwiKTtcbiAgICB9XG5cbiAgICByZXR1cm4gdGhpcy5fZnJlZS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuX3RhcHMucHVzaCh7IGNsb3NlOiBjbG9zZSwgY2g6IGNoIH0pO1xuICAgICAgcmV0dXJuIGNoO1xuICAgIH0pO1xuICB9XG5cbiAgdW50YXAoY2gpIHtcbiAgICByZXR1cm4gdGhpcy5fZnJlZS50aGVuKCgpID0+IHtcbiAgICAgIHRoaXMuX3RhcHMgPSB0aGlzLl90YXBzLmZpbHRlcih0YXAgPT4ge1xuICAgICAgICByZXR1cm4gdGFwLmNoICE9PSBjaDtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGNoO1xuICAgIH0pO1xuICB9XG5cbn1cblxuZXhwb3J0IHsgTXVsdCB9OyIsImltcG9ydCB7IENoYW5uZWwsIFRyYW5zYWN0b3IgfSBmcm9tIFwiLi9jaGFubmVscy5qc1wiO1xuXG5cbmNsYXNzIEFsdHNUcmFuc2FjdG9yIGV4dGVuZHMgVHJhbnNhY3RvciB7XG4gIGNvbnN0cnVjdG9yKG9mZmVyLCBjb21taXRDYikge1xuICAgIHN1cGVyKG9mZmVyKTtcbiAgICB0aGlzLmNvbW1pdENiID0gY29tbWl0Q2I7XG4gIH1cbiAgY29tbWl0KCkge1xuICAgIHRoaXMuY29tbWl0Q2IoKTtcbiAgICByZXR1cm4gc3VwZXIuY29tbWl0KCk7XG4gIH1cbn1cblxuXG5leHBvcnQgZnVuY3Rpb24gYWx0cyhyYWNlKSB7XG4gIGxldCB0cmFuc2FjdG9ycyA9IFtdO1xuICBsZXQgb3V0Q2ggPSBuZXcgQ2hhbm5lbCgpO1xuXG4gIGxldCBkZWFjdGl2YXRlID0gKCkgPT4geyB0cmFuc2FjdG9ycy5mb3JFYWNoKGggPT4gaC5hY3RpdmUgPSBmYWxzZSkgfVxuXG4gIHJhY2UubWFwKGNtZCA9PiB7XG5cbiAgICBpZihBcnJheS5pc0FycmF5KGNtZCkpIHtcbiAgICAgIGxldCB0eCA9IG5ldyBBbHRzVHJhbnNhY3Rvcih2YWwsICgpID0+IHtcbiAgICAgICAgdHJhbnNhY3RvcnMuZm9yRWFjaChoID0+IGguYWN0aXZlID0gZmFsc2UpO1xuICAgICAgfSk7XG4gICAgICBsZXQgWyBjaCwgdmFsIF0gPSBjbWQ7XG4gICAgICBjaC5wdXQodmFsLCB0eCkudGhlbihmdW5jdGlvbigpIHtcbiAgICAgICAgb3V0Q2gucHV0KFsgdmFsLCBjaCBdKTtcbiAgICAgIH0pO1xuXG4gICAgICB0cmFuc2FjdG9ycy5wdXNoKHR4KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbGV0IHR4ID0gbmV3IEFsdHNUcmFuc2FjdG9yKHRydWUsICgpID0+IHtcbiAgICAgICAgdHJhbnNhY3RvcnMuZm9yRWFjaChoID0+IGguYWN0aXZlID0gZmFsc2UpO1xuICAgICAgfSk7XG5cbiAgICAgIGNtZC50YWtlKHR4KS50aGVuKGZ1bmN0aW9uKHZhbCkge1xuICAgICAgICBvdXRDaC5wdXQoWyB2YWwsIGNtZCBdKTtcbiAgICAgIH0pO1xuXG4gICAgICB0cmFuc2FjdG9ycy5wdXNoKHR4KTtcbiAgICB9XG4gIH0pO1xuXG4gIHJldHVybiBvdXRDaDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHRpbWVvdXQobXMpIHtcbiAgdmFyIGNoID0gbmV3IENoYW5uZWwoKTtcbiAgc2V0VGltZW91dCgoKSA9PiB7IGNoLmNsb3NlKCk7IH0sIG1zKTtcbiAgcmV0dXJuIGNoO1xufVxuXG4vLyBFbmZvcmNlcyBvcmRlciByZXNvbHV0aW9uIG9uIHJlc3VsdGluZyBjaGFubmVsXG4vLyBUaGlzIG1pZ2h0IG5lZWQgdG8gYmUgdGhlIGRlZmF1bHQgYmVoYXZpb3IsIHRob3VnaCB0aGF0IHJlcXVpcmVzIG1vcmUgdGhvdWdodFxuZXhwb3J0IGZ1bmN0aW9uIG9yZGVyKGluY2gsIHNpemVPckJ1Zikge1xuICB2YXIgb3V0Y2ggPSBuZXcgQ2hhbm5lbChzaXplT3JCdWYpO1xuXG4gIGZ1bmN0aW9uIGRyYWluKCkge1xuICAgIGluY2gudGFrZSgpLnRoZW4odmFsID0+IHtcbiAgICAgIGlmKHZhbCA9PT0gbnVsbCkge1xuICAgICAgICBvdXRjaC5jbG9zZSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0Y2gucHV0KHZhbCkudGhlbihkcmFpbik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgZHJhaW4oKTtcblxuICByZXR1cm4gb3V0Y2g7XG59IiwiXG5pbXBvcnQgKiBhcyAkcSBmcm9tIFwiJHFcIjtcblxudmFyIFByb21pc2UgPSByID0+IHtcbiAgcmV0dXJuICRxKHIpO1xufTtcblxuUHJvbWlzZS5hbGwgPSAkcS5hbGw7XG5Qcm9taXNlLnJlamVjdCA9ICRxLnJlamVjdDtcblxuUHJvbWlzZS5yYWNlID0gcHJvbXMgPT4ge1xuICB2YXIgZG9GdWxmaWxsLCBkb1JlamVjdCwgcHJvbTtcblxuICBwcm9tID0gJHEoKGZ1bGZpbGwsIHJlamVjdCkgPT4ge1xuICAgIGRvRnVsZmlsbCA9IGZ1bGZpbGw7XG4gICAgZG9SZWplY3QgPSByZWplY3Q7XG4gIH0pO1xuXG4gIHByb21zLmZvckVhY2gocCA9PiBwLnRoZW4oZG9GdWxmaWxsLCBkb1JlamVjdCkpO1xuXG4gIHJldHVybiBwcm9tO1xufTtcblxuUHJvbWlzZS5yZXNvbHZlID0gdmFsID0+IHtcbiAgcmV0dXJuICRxLndoZW4odmFsKTtcbn07XG5cbmV4cG9ydCB7IFByb21pc2UgfTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=